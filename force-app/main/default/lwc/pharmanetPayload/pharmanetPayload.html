<template>
  <lightning-card title="Pharmanet Payload" icon-name="custom:custom58">
    <lightning-button slot="actions" label="Submit All" onclick={handleSubmit} disabled={isDisabled} variant="brand"></lightning-button>
    
    <template if:true={hasPnetSars}>
      <div class="slds-grid">
        <div class="slds-col">
          <lightning-input type="text" label="Patient" value={patientId} readonly></lightning-input>
        </div>
        <div class="slds-col" if:true={hasPractitionerId}>
          <lightning-input type="text" label="Practitioner" value={practitionerId} readonly></lightning-input>
        </div>
        <div class="slds-col" if:true={pharmacyId}>
          <lightning-input type="text" label="Pharmacy ID" value={pharmacyId} readonly></lightning-input>
        </div>
        <div class="slds-col" if:true={decCode}>
          <lightning-input type="text" label="DEC" value={decCode} readonly></lightning-input>
        </div>
      </div>
    
      <template for:each={pnetSars} for:item="item">
        <div key={item.key} class="slds-m-vertical_small">
          <c-pnet-sa-form form-disabled={isDisabled} case-id={recordId} record={item}></c-pnet-sa-form>
        </div>
      </template>
    </template>
    <div class="slds-grid slds-grid_align-end">
      <div class="slds-col">
        <lightning-button label="Mark as Pushed to Pharmanet" onclick={markPushedToPnet} variant="brand-outline" disabled={isPushedToPnet}></lightning-button>
      </div>
    </div>
  </lightning-card>
</template>