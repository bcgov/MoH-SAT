!function(){"use strict";class e{static enableDebug(e){this._debug=e}static log(e){this._debug&&console.log(`ExpTagManager: ${e}`)}static warn(e){this._debug&&console.warn(`ExpTagManager: ${e}`)}static error(e){this._debug&&console.error(`ExpTagManager: ${e}`)}}e._debug=!1;const t="page",i="user",r="site",n=["page","site","user"],a="guestUUID",o="consent",s=["cart-add","cart-remove","cart-replace","cart-update","cart-view","checkout-begin","checkout-contact-info","checkout-user-register","checkout-shipping-address","checkout-billing-address","checkout-shipping-options","checkout-payment","checkout-apply-coupon","checkout-review","checkout-submit"],c="[data-component-id]",d="componentId",l="deviceId",u="processing-base-start",p="processing-all-end",g="processing-dispatcher-start",m="processing-dispatcher-end",b="processing-dispatcher-impl-start",h="processing-dispatcher-impl-end",y="processing-base-end",w="processing-total-duration",f="processing-base-duration",v="processing-dispatcher-duration";class k{static getJsonFromDataLayer(t){let i;if(null!=t)try{i=JSON.parse(t.textContent.replace(/\s/g,""))}catch(t){e.log("Failed to parse data layer JSON")}return i}static getQueryStringForDataProviderType(e){return`script[type='application/json'][data-provider-type='${e}']`}static getCatalogObjectDataFromDataLayer(e,t){return Array.from(document.querySelectorAll(this.getQueryStringForDataProviderType("catalog"))).flatMap((e=>this.getJsonFromDataLayer(e))).filter((i=>i.type==t&&i.id==e))}static bytesToBase64(e){const t=String.fromCodePoint(...e);return btoa(t)}static isWellFormed(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}class I{static deleteValues(){this.values={}}static getValues(){return this.values}static getFieldValue(e){return this.values[e]}static updateFieldValue(e,t){e&&(null!=t&&""!==t?this.values[e]=t:delete this.values[e])}}
/*! js-cookie v3.0.5 | MIT */
function C(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]=i[r]}return e}I.values={};var x=function e(t,i){function r(e,r,n){if("undefined"!=typeof document){"number"==typeof(n=C({},i,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in n)n[o]&&(a+="; "+o,!0!==n[o]&&(a+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],r={},n=0;n<i.length;n++){var a=i[n].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=t.read(o,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",C({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,C({},this.attributes,t))},withConverter:function(t){return e(C({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class E{static setDomain(e){this.cookieDomain=e}static getDomain(){return this.cookieDomain}static setCookie(e,t,i){x.set(e,t,i)}static getCookie(e){return x.get(e)}static removeCookie(e,t){x.remove(e,t)}}function D(e){var t,i,r,n,a,o=[],s=[i=1732584193,r=4023233417,~i,~r,3285377520],c=[],d=unescape(encodeURI(e))+"Â€",l=d.length;for(c[e=--l/4+2|15]=8*l;~l;)c[l>>2]|=d.charCodeAt(l)<<8*~l--;for(t=l=0;t<e;t+=16){for(i=s;l<80;i=[i[4]+(o[l]=l<16?~~c[t+l]:2*d|d<0)+1518500249+[r&n|~r&a,d=341275144+(r^n^a),882459459+(r&n|r&a|n&a),d+1535694389][l++/5>>2]+((d=i[0])<<5|d>>>27),d,r<<30|r>>>2,n,a])d=o[l-3]^o[l-8]^o[l-14]^o[l-16],r=i[1],n=i[2],a=i[3];for(l=5;l;)s[--l]+=i[l]}for(d="";l<40;)d+=(s[l>>3]>>4*(7-l++)&15).toString(16);return d}E.cookieDomain=window.location.hostname;class T{static generateCookieDomainHash(){return D(E.getDomain()+"/").slice(0,4)}static getCookieDomainHash(){return this.cookieDomainHash||(this.cookieDomainHash=D(`${this.generateCookieDomainHash()}`).slice(0,4)),this.cookieDomainHash}static getIdentityCookieName(){return`_sfid_${this.getCookieDomainHash()}`}static getIdentityCookieValue(){try{const e=JSON.parse(E.getCookie(this.getIdentityCookieName()));return null==e?void 0:e.anonymousId}catch(e){return}}static setIdentityCookie(e){const t={anonymousId:e};E.setCookie(this.getIdentityCookieName(),JSON.stringify(t),{expires:400,domain:E.getDomain(),sameSite:"lax",secure:!0})}static removeIdentityCookie(){E.removeCookie(this.getIdentityCookieName(),{domain:E.getDomain()})}}const O="AppendRename";const A="AppendName";const P={[O]:new class{transform(t,i,r){const n=t.fromKey;if(!Object.prototype.hasOwnProperty.call(i,n))return void e.error(`No field of given name exists to rename does not have field: ${n}`);const a=`${i[n].charAt(0).toLowerCase()}${i[n].slice(1)}`;Object.assign(r,{...r,...Object.fromEntries(Object.entries(i).filter((e=>e[0]!==n)).map((([e,t])=>[`${a}${e.charAt(0).toUpperCase()}${e.slice(1)}`,t])))})}},[A]:new class{transform(e,t,i){const r=t=>{if(!Object.prototype.hasOwnProperty.call(t,e.key))return t;const{[e.key]:i,...r}=t;return delete t[e.key],Object.assign({},r,{[e.name]:i})},n=e=>(e=r(e),Object.prototype.hasOwnProperty.call(e,"attributes")&&(e.attributes=r(e.attributes)),e);if(!Array.isArray(t))return Object.assign(t,n(t));Object.assign(t,t.map(n))}}},S=(e,t="id")=>({type:A,key:t,name:e}),_={cart:{schema:{namespace:"sf.commerce",name:"Cart",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{Cart:{fields:{coupon:{id:104,type:"string"},totalProductsAmount:{id:105,type:"double"},orderId:{id:108,type:"string"},sourceChannel:{id:4,type:"string"},channelType:{id:6,type:"string"},uniqueProductCount:{id:106,type:"uint32"},webstoreId:{id:2,type:"string"},name:{id:101,type:"string"},subscriptionQuantity:{id:107,type:"double"},eventName:{id:1,type:"string"},correlationId:{id:5,type:"string"},currency:{id:103,type:"string"},id:{id:102,type:"string"},visitorId:{id:3,type:"string"}}}}}}}}}},lineItems:{schema:{namespace:"sf.commerce",name:"CartItem",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{CartItem:{fields:{totalProductAmount:{id:106,type:"double"},quantity:{id:104,type:"double"},productId:{id:107,type:"string"},lineItemId:{id:102,type:"string"},searchResultPageNumber:{id:115,type:"uint32"},sourceChannel:{id:4,type:"string"},adjustedTotalProductAmount:{id:110,type:"double"},cartId:{id:101,type:"string"},saleType:{id:112,type:"string"},channelType:{id:6,type:"string"},searchResultTitle:{id:113,type:"string"},searchResultPositionInPage:{id:116,type:"uint32"},webstoreId:{id:2,type:"string"},searchResultPosition:{id:114,type:"uint32"},price:{id:103,type:"double"},imageUrl:{id:111,type:"string"},name:{id:105,type:"string"},eventName:{id:1,type:"string"},correlationId:{id:5,type:"string"},sku:{id:109,type:"string"},productType:{id:108,type:"string"},visitorId:{id:3,type:"string"}}}}}}}}}},plugins:[S("lineItemId")],catalogObject:{plugins:[{fromKey:"type",type:O}]}}}},j={cart:{schema:{namespace:"sf.commerce",name:"Checkout",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{Checkout:{fields:{uiLayoutType:{id:103,type:"string"},sourceChannel:{id:4,type:"string"},cartId:{id:101,type:"string"},eventName:{id:1,type:"string"},correlationId:{id:5,type:"string"},channelType:{id:6,type:"string"},isExpressCheckout:{id:105,type:"bool"},checkoutId:{id:102,type:"string"},initialOrn:{id:104,type:"string"},webstoreId:{id:2,type:"string"},visitorId:{id:3,type:"string"},isManaged:{id:106,type:"bool"}}}}}}}}}},plugins:[S("cartId")]}},N={cart:{schema:{namespace:"sf.commerce",name:"Payment",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{Payment:{fields:{sourceChannel:{id:4,type:"string"},cartId:{id:101,type:"string"},channelType:{id:6,type:"string"},initialOrn:{id:105,type:"string"},webstoreId:{id:2,type:"string"},isManualCapture:{id:106,type:"bool"},paymentMethods:{rule:"repeated",id:107,type:"string"},eventName:{id:1,type:"string"},paymentMethod:{id:104,type:"string"},correlationId:{id:5,type:"string"},isExpressPayment:{id:103,type:"bool"},checkoutId:{id:102,type:"string"},visitorId:{id:3,type:"string"}}}}}}}}}},plugins:[S("cartId")]}},$={order:{schema:{namespace:"sf.commerce",name:"Order",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{Order:{fields:{totalProductAmount:{id:104,type:"double"},orderId:{id:101,type:"string"},sourceChannel:{id:4,type:"string"},cartId:{id:103,type:"string"},grandTotalAmount:{id:105,type:"double"},eventName:{id:1,type:"string"},correlationId:{id:5,type:"string"},channelType:{id:6,type:"string"},currency:{id:102,type:"string"},webstoreId:{id:2,type:"string"},visitorId:{id:3,type:"string"}}}}}}}}}},plugins:[S("orderId"),S("grandTotalAmount","adjustedTotalProductAmount")]}},R={schema:{namespace:"sf.commerce",name:"Search",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{Search:{fields:{resultsReturnedQuantity:{id:117,type:"uint32"},searchResultPageNumber:{id:105,type:"uint32"},sourceChannel:{id:4,type:"string"},searchSuggestionTitle:{id:109,type:"string"},channelType:{id:6,type:"string"},searchEngineName:{id:118,type:"string"},webstoreId:{id:2,type:"string"},searchSuggestionsType:{id:108,type:"string"},searchQuery:{id:101,type:"string"},eventName:{id:1,type:"string"},correlationId:{id:5,type:"string"},searchType:{rule:"repeated",id:112,type:"string"},searchFacetList:{rule:"repeated",id:111,type:"string"},suggestionResultPosition:{id:110,type:"uint32"},searchResultPositionInPage:{id:106,type:"uint32"},searchSuggestionId:{id:107,type:"string"},searchResultTitle:{id:119,type:"string"},resultsRequested:{id:113,type:"uint32"},searchResultPosition:{id:104,type:"uint32"},sortType:{id:115,type:"string"},resultPageOffset:{id:114,type:"uint32"},originalSearchQuery:{id:116,type:"string"},searchAction:{id:103,type:"string"},categoryId:{id:102,type:"string"},visitorId:{id:3,type:"string"}}}}}}}}}},plugins:[S("suggestionResultPosition","searchSuggestionResultPosition"),S("resultsRequested","numberOfResultsRequested")]},U={catalogObjects:{schema:{namespace:"sf.commerce",name:"CatalogObject",pbjsSchema:{nested:{sf:{nested:{commerce:{nested:{CatalogObject:{fields:{searchResultPageNumber:{id:106,type:"uint32"},sourceChannel:{id:4,type:"string"},channelType:{id:6,type:"string"},searchResultTitle:{id:104,type:"string"},searchResultPositionInPage:{id:107,type:"uint32"},webstoreId:{id:2,type:"string"},objectType:{id:102,type:"string"},searchResultPosition:{id:105,type:"uint32"},eventName:{id:1,type:"string"},correlationId:{id:5,type:"string"},objectId:{id:101,type:"string"},categoryId:{id:103,type:"string"},visitorId:{id:3,type:"string"}}}}}}}}}},plugins:[S("objectId","id"),S("objectType","type")]}},L=new Map([...s.filter((e=>e.startsWith("cart"))).map((e=>[e,_])),...s.filter((e=>e.startsWith("checkout"))).map((e=>[e,j])),...["checkout-payment","checkout-payment-render"].map((e=>[e,N])),["order-accepted",$],["search",R],["category-search",R],["catalog-object-click",U]]);class M{constructor(e){this.registryMap=new Map,e&&(this.registryMap=e)}addTransformer(e,t){this.registryMap.set(e,t)}hasEvent(e){return this.registryMap.has(e)}getTransformer(e){return this.registryMap.get(e)}}const F=(e,t)=>{var i;const r=t.guestUUID,{source:n,site:a}=t,o=(e=>{var t,i,r,n,a;const o=e;if(null===(i=null===(t=null==o?void 0:o.cart)||void 0===t?void 0:t.attributes)||void 0===i?void 0:i.correlationId)return o.cart.attributes.correlationId;const s=e;if(null===(r=null==s?void 0:s.attributes)||void 0===r?void 0:r.correlationId)return s.attributes.correlationId;const c=e;if(null==c?void 0:c.catalogObjects){const e=c.catalogObjects;return Array.isArray(e)?e.length>0?null===(n=e[0].attributes)||void 0===n?void 0:n.correlationId:void 0:null===(a=e.attributes)||void 0===a?void 0:a.correlationId}})(e),{channel:s}=null!=n?n:{};return{correlationId:o,eventName:e.name,sourceChannel:s,visitorId:r,webstoreId:null===(i=null==a?void 0:a.webstore)||void 0===i?void 0:i.id,channelType:null==a?void 0:a.templateDevName}},q=t=>{var i;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if("fields"===e){const r=t[e],n={};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=r[e].type,a=null!==(i=r[e].rule)&&void 0!==i?i:void 0;n[e]="repeated"===a?t+"[]":"uint32"===t?"number":t}return n}if("object"==typeof t[e]&&null!==t[e]){const i=q(t[e]);if(void 0!==i)return i}}return e.error("Invalid schema passed: "+t),{}},B=(e,t)=>Object.fromEntries(Object.entries(e).filter((([i,r])=>{if(Object.prototype.hasOwnProperty.call(t,i)){if(t[i].includes("[]")){const e=t[i].substring(0,t[i].length-2);return!(!Array.isArray(r)||0!==r.filter((t=>typeof t!==e)).length)}return typeof e[i]===(e=>{switch(e){case"double":case"float":case"int32":case"int64":case"uint32":case"uint64":case"sint32":case"sint64":case"fixed32":case"fixed64":case"sfixed32":case"sfixed64":return"number";case"bool":return"boolean";case"string":return"string";case"bytes":return"Uint8Array";default:return e}})(t[i])}return!1}))),V=(e,t="",i={})=>{for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=t?`${t}.${r}`:r;"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?Object.prototype.hasOwnProperty.call(i,r)||(i[r]=e[r]):V(e[r],n,i)}return i},z=e=>{if("object"!=typeof e||null===e)return null;if("schema"in e)return e.schema;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!Array.isArray(e[t])){const i=z(e[t]);if(null!==i)return i}return null};class H{constructor(e){this._registry=e}transform(e,t){const i=F(e,t),r=this.getRegistryEvents(e);return(0==r.length?[{schema:z(this._registry),payload:i}]:r).map((e=>{const t=Object.entries({...e.payload,...i}).filter((([e,t])=>void 0!==t)).reduce(((e,[t,i])=>({...e,[t]:i})),{});return{schema:e.schema,payload:t}}))}getRegistryEvents(e){const t=[],i=(e,r)=>{const n={},a=[];Object.prototype.hasOwnProperty.call(r,"plugins")&&r.plugins.map((t=>P[t.type].transform(t,e,void 0)));for(const t in e)"object"==typeof e[t]&&"attributes"!==t?a.push({k:t,o:e[t]}):null!==e[t]&&("attributes"===t?Object.assign(n,e.attributes):n[t]=e[t]);if(a.forEach((e=>{const t=Object.prototype.hasOwnProperty.call(r,e.k)?r[e.k]:void 0,a=r[e.k];if(a&&Object.prototype.hasOwnProperty.call(a,"plugins")&&a.plugins.map((t=>P[t.type].transform(t,e.o,n))),t)Object.prototype.hasOwnProperty.call(t,"schema")&&(Array.isArray(e.o)?e.o.forEach((e=>i(e,t))):i(e.o,t));else{const t=V(e.o);Object.keys(t).filter((e=>!Object.prototype.hasOwnProperty.call(n,e))).forEach((e=>{n[e]=t[e]}))}})),Object.prototype.hasOwnProperty.call(r,"schema")){const e=q(r.schema);t.push({schema:r.schema,payload:B(n,e)})}};return i(e,this._registry),t}}class Y{static enablePerfLogging(e){this._perfLoggingEnabled=e,!1===e&&(this.clearMarks([u,y,p,`${g}_O11Y`,`${g}_DataCloud`,`${m}_O11Y`,`${m}_DataCloud`,`${b}_O11Y`,`${h}_O11Y`]),this.clearMeasures([f,w,`${v}_O11Y`,`${v}_DataCloud`]))}static isPerfLoggingEnabled(){return this._perfLoggingEnabled}static mark(e,t){this._perfLoggingEnabled&&performance.mark(e,t)}static clearMarks(e){if(this._perfLoggingEnabled)for(const t of e)performance.clearMarks(t)}static clearMeasures(e){if(this._perfLoggingEnabled)for(const t of e)performance.clearMeasures(t)}static calculateDuration(e,t){if(this._perfLoggingEnabled){const[i,...r]=e,n=performance.measure(i,...r);console.log(`${t}: ${n.duration} millisecond`)}}}Y._perfLoggingEnabled=!1;var W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function J(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K,G,Q={exports:{}};K=Q,G=Q.exports,function(e,t){var i="function",r="undefined",n="object",a="string",o="major",s="model",c="name",d="type",l="vendor",u="version",p="architecture",g="console",m="mobile",b="tablet",h="smarttv",y="wearable",w="embedded",f="Amazon",v="Apple",k="ASUS",I="BlackBerry",C="Browser",x="Chrome",E="Firefox",D="Google",T="Huawei",O="LG",A="Microsoft",P="Motorola",S="Opera",_="Samsung",j="Sharp",N="Sony",$="Xiaomi",R="Zebra",U="Facebook",L="Chromium OS",M="Mac OS",F=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},q=function(e,t){return typeof e===a&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,""),typeof t===r?e:e.substring(0,500)},z=function(e,r){for(var a,o,s,c,d,l,u=0;u<r.length&&!d;){var p=r[u],g=r[u+1];for(a=o=0;a<p.length&&!d&&p[a];)if(d=p[a++].exec(e))for(s=0;s<g.length;s++)l=d[++o],typeof(c=g[s])===n&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):t:this[c[0]]=l?c[1].call(this,l,c[2]):t:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):t):this[c]=l||t;u+=2}},H=function(e,i){for(var r in i)if(typeof i[r]===n&&i[r].length>0){for(var a=0;a<i[r].length;a++)if(q(i[r][a],e))return"?"===r?t:r}else if(q(i[r],e))return"?"===r?t:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[u,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[u,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,u],[/opios[\/ ]+([\w\.]+)/i],[u,[c,S+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[u,[c,S+" GX"]],[/\bopr\/([\w\.]+)/i],[u,[c,S]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[u,[c,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,u],[/\bddg\/([\w\.]+)/i],[u,[c,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[u,[c,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[u,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[u,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[u,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[u,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[u,[c,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+C],u],[/\bfocus\/([\w\.]+)/i],[u,[c,E+" Focus"]],[/\bopt\/([\w\.]+)/i],[u,[c,S+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[u,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[u,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[u,[c,S+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[u,[c,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[u,[c,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+C]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+C],u],[/samsungbrowser\/([\w\.]+)/i],[u,[c,_+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],u],[/metasr[\/ ]?([\d\.]+)/i],[u,[c,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,"Sogou Mobile"],u],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[c,u],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,U],u],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,u],[/\bgsa\/([\w\.]+) .*safari\//i],[u,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[u,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[u,[c,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,x+" WebView"],u],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[u,[c,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,u],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[u,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[u,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[u,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,u],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],u],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[u,[c,E+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[c,u],[/(cobalt)\/([\w\.]+)/i],[c,[u,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,B]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[l,_],[d,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[l,_],[d,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[s,[l,v],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[l,v],[d,b]],[/(macintosh);/i],[s,[l,v]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[l,j],[d,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[l,T],[d,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[l,T],[d,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[l,$],[d,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[l,$],[d,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[l,"OPPO"],[d,m]],[/\b(opd2\d{3}a?) bui/i],[s,[l,"OPPO"],[d,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[l,"Vivo"],[d,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[s,[l,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[l,P],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[l,P],[d,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[l,O],[d,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[l,O],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[l,"Lenovo"],[d,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[l,"Nokia"],[d,m]],[/(pixel c)\b/i],[s,[l,D],[d,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[l,D],[d,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,N],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[l,N],[d,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[l,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[l,f],[d,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[l,f],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[s,l,[d,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[l,I],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[l,k],[d,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[l,k],[d,m]],[/(nexus 9)/i],[s,[l,"HTC"],[d,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[l,[s,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[l,"Acer"],[d,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[l,"Meizu"],[d,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[s,[l,"Ulefone"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,s,[d,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,s,[d,b]],[/(surface duo)/i],[s,[l,A],[d,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[l,"Fairphone"],[d,m]],[/(u304aa)/i],[s,[l,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[s,[l,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[s,[l,"RCA"],[d,b]],[/\b(venue[\d ]{2,7}) b/i],[s,[l,"Dell"],[d,b]],[/\b(q(?:mv|ta)\w+) b/i],[s,[l,"Verizon"],[d,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[l,"Barnes & Noble"],[d,b]],[/\b(tm\d{3}\w+) b/i],[s,[l,"NuVision"],[d,b]],[/\b(k88) b/i],[s,[l,"ZTE"],[d,b]],[/\b(nx\d{3}j) b/i],[s,[l,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[s,[l,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[s,[l,"Swiss"],[d,b]],[/\b((zeki)?tb.*\b) b/i],[s,[l,"Zeki"],[d,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],s,[d,b]],[/\b(ns-?\w{0,9}) b/i],[s,[l,"Insignia"],[d,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[l,"NextBook"],[d,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],s,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],s,[d,m]],[/\b(ph-1) /i],[s,[l,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[l,"Envizen"],[d,b]],[/\b(trio[-\w\. ]+) b/i],[s,[l,"MachSpeed"],[d,b]],[/\btu_(1491) b/i],[s,[l,"Rotor"],[d,b]],[/(shield[\w ]+) b/i],[s,[l,"Nvidia"],[d,b]],[/(sprint) (\w+)/i],[l,s,[d,m]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,A],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[l,R],[d,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[l,R],[d,m]],[/smart-tv.+(samsung)/i],[l,[d,h]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,_],[d,h]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,O],[d,h]],[/(apple) ?tv/i],[l,[s,v+" TV"],[d,h]],[/crkey/i],[[s,x+"cast"],[l,D],[d,h]],[/droid.+aft(\w+)( bui|\))/i],[s,[l,f],[d,h]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[l,j],[d,h]],[/(bravia[\w ]+)( bui|\))/i],[s,[l,N],[d,h]],[/(mitv-\w{5}) bui/i],[s,[l,$],[d,h]],[/Hbbtv.*(technisat) (.*);/i],[l,s,[d,h]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[l,V],[s,V],[d,h]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,s,[d,g]],[/droid.+; (shield) bui/i],[s,[l,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[s,[l,N],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[l,A],[d,g]],[/((pebble))app/i],[l,s,[d,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[s,[l,v],[d,y]],[/droid.+; (glass) \d/i],[s,[l,D],[d,y]],[/droid.+; (wt63?0{2,3})\)/i],[s,[l,R],[d,y]],[/(quest( \d| pro)?)/i],[s,[l,U],[d,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[d,w]],[/(aeobc)\b/i],[s,[l,f],[d,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[s,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[d,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[u,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,u],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[u,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,u],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[c,[u,H,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,H,Y],[c,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[u,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,M],[u,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[u,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,u],[/\(bb(10);/i],[u,[c,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[u,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[u,[c,E+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[u,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[u,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[u,[c,x+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,L],u],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,u],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],u],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,u]]},J=function(g,h){if(typeof g===n&&(h=g,g=t),!(this instanceof J))return new J(g,h).getResult();var y=typeof e!==r&&e.navigator?e.navigator:t,w=g||(y&&y.userAgent?y.userAgent:""),f=y&&y.userAgentData?y.userAgentData:t,v=h?function(e,t){var i={};for(var r in e)t[r]&&t[r].length%2==0?i[r]=t[r].concat(e[r]):i[r]=e[r];return i}(W,h):W,k=y&&y.userAgent==w;return this.getBrowser=function(){var e,r={};return r[c]=t,r[u]=t,z.call(r,w,v.browser),r[o]=typeof(e=r[u])===a?e.replace(/[^\d\.]/g,"").split(".")[0]:t,k&&y&&y.brave&&typeof y.brave.isBrave==i&&(r[c]="Brave"),r},this.getCPU=function(){var e={};return e[p]=t,z.call(e,w,v.cpu),e},this.getDevice=function(){var e={};return e[l]=t,e[s]=t,e[d]=t,z.call(e,w,v.device),k&&!e[d]&&f&&f.mobile&&(e[d]=m),k&&"Macintosh"==e[s]&&y&&typeof y.standalone!==r&&y.maxTouchPoints&&y.maxTouchPoints>2&&(e[s]="iPad",e[d]=b),e},this.getEngine=function(){var e={};return e[c]=t,e[u]=t,z.call(e,w,v.engine),e},this.getOS=function(){var e={};return e[c]=t,e[u]=t,z.call(e,w,v.os),k&&!e[c]&&f&&f.platform&&"Unknown"!=f.platform&&(e[c]=f.platform.replace(/chrome os/i,L).replace(/macos/i,M)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return w},this.setUA=function(e){return w=typeof e===a&&e.length>500?V(e,500):e,this},this.setUA(w),this};J.VERSION="1.0.38",J.BROWSER=F([c,u,o]),J.CPU=F([p]),J.DEVICE=F([s,l,d,g,m,h,b,y,w]),J.ENGINE=J.OS=F([c,u]),K.exports&&(G=K.exports=J),G.UAParser=J;var Q=typeof e!==r&&(e.jQuery||e.Zepto);if(Q&&!Q.ua){var Z=new J;Q.ua=Z.getResult(),Q.ua.get=function(){return Z.getUA()},Q.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var i in t)Q.ua[i]=t[i]}}}("object"==typeof window?window:W);var Z,X,ee,te,ie,re=J(Q.exports);class ne{static parseUserAgent(){const e=new re,{browser:t,device:i,os:r}=e.getResult(),{name:n,version:a}=t,{vendor:o,model:s}=i,{name:c,version:d}=r;return{browserName:n,browserVersion:a,deviceVendor:o,deviceModel:s,osName:c,osVersion:d}}static getScreenResolution(){return{screenWidth:window.screen.width,screenHeight:window.screen.height}}static addUserDataToInteractionEvent(e,t){t&&(e.user=t)}static addSourceDataToInteractionEvent(e,t){t||(t={}),(null==t?void 0:t.locale)||(t.locale=navigator.language),(null==t?void 0:t.title)||(t.title=document.title),(null==t?void 0:t.channel)||(t.channel="Web"),(null==t?void 0:t.url)||(t.url=window.location.href),(null==t?void 0:t.urlReferrer)||(t.urlReferrer=document.referrer),e.source=t}static getDataAttributeFromClosestElement(e,t,i){var r;let n;if(e&&"closest"in e){const a=e.closest(t);n=null===(r=null==a?void 0:a.dataset)||void 0===r?void 0:r[`${i}`]}return{[`${i}`]:n}}static getDataFromDataLayerByDataProviderType(e){const t=document.querySelectorAll(k.getQueryStringForDataProviderType(e));let i={};return t.forEach((e=>{const t=k.getJsonFromDataLayer(e);i={...i,...t}})),i}static isConsentOptedIn(){const e=I.getFieldValue(o);return void 0!==e&&e}static getUserConsent(){const e=I.getFieldValue(o);return void 0===e?void 0:{dataUsePurpose:e?"1":"0"}}static setConsent(e){const t=e.value;I.updateFieldValue(o,t),t?this.addIdentityCookieIfNotPresent():(I.updateFieldValue(l,void 0),T.removeIdentityCookie())}static addIdentityCookieIfNotPresent(){let e=T.getIdentityCookieValue();e||(e=I.getFieldValue(l),e||(e=crypto.randomUUID(),I.updateFieldValue(l,e)),T.setIdentityCookie(e))}static setAnonymousIdFromGuestUUID(e){const t=e.guestUuid;I.updateFieldValue(a,t)}static setDeviceId(e){const t=e.deviceId;I.updateFieldValue(l,t),ne.isConsentOptedIn()&&T.setIdentityCookie(t)}static getDeviceId(){return T.getIdentityCookieValue()||I.getFieldValue(l)}static closestNonContextualDataLayerContent(e){let t={};if(e instanceof HTMLElement)for(;(null==e?void 0:e.parentElement)!==document.documentElement;){const i=e.parentElement,r=document.querySelector("script[type='application/json][data-provider-type]");if(r&&!n.includes(r.dataset.dataProviderType)){t=JSON.parse(r.textContent);break}e=i}return t}static getDataFromDataLayerRecursively(e,t){let i;if(e){let r=e;for(;r&&r!==document.documentElement;){const e=r.querySelector(":scope > experience-data-layer-object");if(e){const r=e.querySelector(`[data-provider-type="${t}"]`);r&&(i=JSON.parse(r.textContent.replace(/\s/g,"")))}r=r.parentElement}}return i}static getDataFromDataByTraversingHierarchically(e,t){let i;return e instanceof HTMLElement&&(i=this.getDataFromDataLayerRecursively(e,t)),i}static resetWebSDKStore(){I.deleteValues()}}class ae{static sendEventToDispatcher(n){var o,s;const{target:l,detail:p}=n,b=Array.isArray(p)?p:[p],h={interactions:b,component:ne.getDataAttributeFromClosestElement(l,c,d),site:ne.getDataFromDataLayerByDataProviderType(r),userAgent:ne.parseUserAgent(),screenInfo:ne.getScreenResolution(),personalization:ne.getDataFromDataByTraversingHierarchically(l,"personalization"),searchResult:ne.getDataFromDataByTraversingHierarchically(l,"searchResult"),catalogObjects:ne.getDataAttributeFromClosestElement(l,"[data-personalization-content-id]","personalizationContentId"),deviceIdentifier:{deviceId:ne.getDeviceId()},guestUUID:I.getFieldValue(a)};ne.addUserDataToInteractionEvent(h,ne.getDataFromDataLayerByDataProviderType(i)),ne.addSourceDataToInteractionEvent(h,ne.getDataFromDataLayerByDataProviderType(t));const w=null===(o=b[0])||void 0===o?void 0:o.metadata,k=(null==w?void 0:w.dispatcherNames)||["All"];Y.mark(y,{detail:`base sdk processing ended at ${performance.now()}`}),Y.calculateDuration([f,u,y],"Total base SDK processing time is"),null===(s=window.ECEngmtEvtDispatchers)||void 0===s||s.forEach((({dispatcher:t,dispatcherName:i})=>{k.includes("All")||k.includes(i)?(Y.mark(`${g}_${i}`,{detail:`dispatcher ${i} processing started at ${performance.now()}`}),e.log(`Payload for Dispatcher ${i} is ${JSON.stringify(h)}`),t.send(h,ne.getUserConsent()),Y.mark(`${m}_${i}`,{detail:`dispatcher ${i} processing ended at ${performance.now()}`}),Y.calculateDuration([`${v}_${i}`,`${g}_${i}`,`${m}_${i}`],`Total processing time for ${i}`)):e.log(`Interaction event is not to be sent for this dispatcher ${i}`)}))}static isValidCustomEvent(e){var t;let i=!1;return i=Array.isArray(null==e?void 0:e.detail)?null==e?void 0:e.detail.some((e=>null==e?void 0:e.name)):!!(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.name),i}static handleEvent(t){if(this.isValidCustomEvent(t))try{const{detail:e}=t;if(!Array.isArray(e)){const{name:t}=e;if("set-consent"===t)return void ne.setConsent(e);if("set-guest-uuid"===t)return void ne.setAnonymousIdFromGuestUUID(e);if("set-device-id"===t)return void ne.setDeviceId(e);if("set-cookie-domain"===t)return void E.setDomain(e.domain)}ne.isConsentOptedIn()&&ne.addIdentityCookieIfNotPresent(),Y.mark(u,{detail:`base sdk processing started at ${performance.now()}`}),this.sendEventToDispatcher(t),Y.mark(p,{detail:`all processing ended at ${performance.now()}`}),Y.calculateDuration([w,u,p],"Total execution time is")}catch(t){e.error(t.message)}}}class oe{static getTarget(e){let t=e.composedPath().find((e=>{var t,i,r;return e instanceof HTMLElement&&("button"===(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())||"a"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase())||"input"===(null===(r=e.tagName)||void 0===r?void 0:r.toLowerCase()))}));return t||(t=e.composedPath()[0]),t}static isTargetAButtonOrAnchor(e){let t=!1;const i=this.getTarget(e);if(i instanceof HTMLAnchorElement||i instanceof HTMLButtonElement)t=!0;else if(i instanceof HTMLInputElement){const e=i.getAttribute("type");"submit"!==e&&"reset"!==e&&"button"!==e||(t=!0)}return t}static isEngagementIgnoreDataAttributeSet(e){return void 0!==this.getTarget(e).dataset.sfdcEngagementIgnore}static handleEvent(n){var o,s,l;if((null===(s=null===(o=window.expTagMgrConfig)||void 0===o?void 0:o.dataCloud)||void 0===s?void 0:s.ignoreDefaultEvents)||this.isEngagementIgnoreDataAttributeSet(n)||!this.isTargetAButtonOrAnchor(n))return;ne.isConsentOptedIn()&&ne.addIdentityCookieIfNotPresent();const u=this.getTarget(n);let p;try{p=u instanceof HTMLAnchorElement?{name:"anchor-click",linkHref:u.getAttribute("href"),attributes:{linkId:u.getAttribute("id"),linkRel:u.getAttribute("rel"),linkTarget:u.getAttribute("target"),linkReferrerPolicy:u.getAttribute("referrerPolicy"),linkLabel:u.textContent}}:u instanceof HTMLButtonElement?{name:"button-click",attributes:{buttonId:u.getAttribute("id"),buttonLabel:u.textContent,buttonType:u.getAttribute("type")}}:{name:`input-type-${u.getAttribute("type")}-click`,attributes:{buttonId:u.getAttribute("id"),buttonLabel:u.getAttribute("value"),buttonType:u.getAttribute("type")}};const{name:e,attributes:o,...s}=p,g={interactions:[{name:e,...s,...o,eventType:"userEngagement"}],component:ne.getDataAttributeFromClosestElement(n.target,c,d),site:ne.getDataFromDataLayerByDataProviderType(r),userDefined:ne.closestNonContextualDataLayerContent(n.target),userAgent:ne.parseUserAgent(),screenInfo:ne.getScreenResolution(),deviceIdentifier:{deviceId:T.getIdentityCookieValue()},guestUUID:I.getFieldValue(a)};ne.addUserDataToInteractionEvent(g,ne.getDataFromDataLayerByDataProviderType(i)),ne.addSourceDataToInteractionEvent(g,ne.getDataFromDataLayerByDataProviderType(t)),null===(l=window.ECEngmtEvtDispatchers)||void 0===l||l.forEach((({dispatcher:e})=>{e.send(g,ne.getUserConsent())}))}catch(t){e.error(t.message)}}}const se=()=>Y.isPerfLoggingEnabled();if(null===(Z=window.dataLayerEvents)||void 0===Z||Z.subscribe(new class{next(t){(t=>{t.forEach((t=>{t instanceof Event?t instanceof CustomEvent?ae.handleEvent(t):oe.handleEvent(t):e.log("EC_WEB_SDK: Not an event")}))})(t)}error(t){e.error(`Received error from dataLayer events queue ${t.message}`)}}),(null===(X=window.ECEngmtEvtDispatchers)||void 0===X?void 0:X.length)===(null===(ee=window.expTagMgrConfig)||void 0===ee?void 0:ee.dispatcherCount))null===(te=window.dataLayerEvents)||void 0===te||te.emitEvents(),e.log(`Emitting data layer events as all the required dispatchers loaded, count = ${null===(ie=window.expTagMgrConfig)||void 0===ie?void 0:ie.dispatcherCount}`);else{const t=setInterval((()=>{var i,r,n,a,o,s;(null===(i=window.ECEngmtEvtDispatchers)||void 0===i?void 0:i.length)===(null===(r=window.expTagMgrConfig)||void 0===r?void 0:r.dispatcherCount)?(null===(n=window.dataLayerEvents)||void 0===n||n.emitEvents(),e.log(`Emitting data layer events as all the required dispatchers loaded, count = ${null===(a=window.expTagMgrConfig)||void 0===a?void 0:a.dispatcherCount} after an interval of 100ms`),clearInterval(t)):e.log(`Required no of dispatcher has not loaded, required count = ${null===(o=window.expTagMgrConfig)||void 0===o?void 0:o.dispatcherCount}, current dispatcher count ${null===(s=window.ECEngmtEvtDispatchers)||void 0===s?void 0:s.length}`)}),100)}var ce;null===(ce=window.ECEngmtEvtDispatchers)||void 0===ce||ce.push({dispatcherName:"O11Y",dispatcher:new class{constructor(){this.registry=new M(L)}send(t,i){if(!window.WEBSDK||!window.WEBSDK.sendEngagementEvent)return void e.error("No o11y sendEvent method in window.");const{interactions:r,...n}=t;e.log(`Received:\ninteractions=${JSON.stringify(r)}`),r.filter((e=>e&&e.name)).forEach((t=>{if(!this.registry.hasEvent(t.name))return void e.error(`Unrecognized interaction event ${t.name}`);se&&Y.mark(`${b}_O11Y`,{detail:`O11Y dispatcher processing started at ${performance.now()}`});const i=this.registry.getTransformer(t.name);let r;const a=JSON.parse(JSON.stringify(t));r=i.transform?i.transform(a,n):new H(i).transform(a,n),r.forEach((e=>window.WEBSDK.sendEngagementEvent(e.schema,e.payload))),se&&(Y.mark(`${h}_O11Y`,{detail:`O11Y dispatcher processing ended at ${performance.now()}`}),Y.calculateDuration(["processing-dispatcher-impl-duration_O11Y",`${b}_O11Y`,`${h}_O11Y`],"Total processing time for O11Y impl"))}))}}})}();
